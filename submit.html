<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/style1.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lalezar&family=League+Spartan:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <script type="module" src="./js/dashboard/submit.js"></script>
    <title>Hacker news</title>
  </head>
  <body>
    <!-- correct trigger modal -->
    <button
      type="button"
      class="btn correctbutton d-none"
      data-bs-toggle="modal"
      data-bs-target="#correctModal"
    >
      correct
    </button>
    <!-- correct alert modal -->
    <div
      class="modal fade"
      id="correctModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-title mb-2" id="exampleModalLabel">
            <div
              class="text-center align-items-center justify-content-center mt-2"
            >
              <img src="./assets/imgs/heart1.png" alt="" width="40px" />
              <br />
              Thank you for Submitting!
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-2">
      <a href="explore.html" class="orange ms-3 fw-bold"
        ><img
          src="./assets/imgs/Logos.png"
          alt="Logo"
          width="180px"
          height="55px"
          class="me-2"
      /></a>
    </div>
    <div class="bg-white px-4 py-4 shadow-lg rounded-3 center">
      <h3 class="text4 pt-3 orange text-center fw-bold">Submit Form</h3>
      <form id="form_submit" onclick="getUser()">
        <div id="id">
          <input type="hidden" id="user_id" name="user_id" />
        </div>
        <div class="form-group mb-3">
          <label for="title" class="form-label text4 fw-bold">Title</label>
          <input
            type="text"
            class="form-control rectangle-73"
            id="title"
            name="title"
            placeholder="Input title"
            required
          />
        </div>
        <div class="form-group mb-3">
          <label for="url" class="form-label fw-bold">Url</label>
          <input
            type="text"
            class="form-control rectangle-73"
            id="url"
            name="url"
            placeholder="Share link of the website"
            required
          />
        </div>

        <div class="form-group">
          <label for="description" class="form-label fw-bold"
            >Description</label
          >
          <textarea
            class="form-control rectangle-73"
            id="description"
            name="description"
            placeholder="Description(Optional)"
            style="height: 150px"
          ></textarea>
        </div>
        <br />
        <label class="fw-bold form-label" for="role"
          >What type of content?</label
        ><br />
        <select id="role" name="role" class="border-0 pe-5">
          <option value="Stories">Stories</option>
          <option value="Job">Job</option>
          <option value="Question">Question</option>
        </select>

        <div class="d-flex justify-content-center pt-4">
          <label id="photo" class="mx-3 text-light rounded-3" for="file"
            >Add logo
          </label>
          <input
            class="btn6"
            type="file"
            id="file"
            name="image"
            accept=".jpeg, .png"
            required
          />

          <button
            type="submit"
            class="btn6 btn-lg text-light rounded-3 align-items-center d-flex justify-content-center"
          >
            Submit
          </button>
        </div>
      </form>
    </div>
    <script>
      async function getUser() {
        if (localStorage.getItem("token")) {
          const profileResponse = await fetch(
            "http://hackernews.test/api/profile/show",
            {
              headers: {
                Accept: "application/json",
                Authorization: "Bearer " + localStorage.getItem("token"),
              },
            }
          );
          const profileData = await profileResponse.json();
          document.getElementById("user_id").value = profileData.id;
        }
      }
    </script>
  </body>
  <script src="./assets/js/bootstrap.bundle.min.js"></script>
</html>
